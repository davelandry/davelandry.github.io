---
layout: bare
title: Data Playground
---

<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

  d3.queue()
    .defer(d3.csv, "/classes/artg5330-2017/lectures/greenhouse.csv")
    .defer(d3.csv, "/classes/artg5330-2017/lectures/data.csv")
    .awaitAll(function(error, data) {

      var greenhouseData = data[0];

      for (var i = 0; i < greenhouseData.length; i++) {
        console.log(greenhouseData[i]);
      }

      greenhouseData.forEach(function(d, i) {

        for (var poop in d) {
          var num = +d[poop];
          var indexOfYR = poop.indexOf("[YR");
          if (isNaN(num) == false) {
            d[poop] = num;
          }
          else if (indexOfYR == 5) {
            d[poop] = 0;
          }

        }

      });

      console.log(greenhouseData);
      var countryData = greenhouseData.filter(function(d, i) {
        return d["2016 [YR2016]"] != 0;
      });
      console.log(countryData);

    });

</script>
